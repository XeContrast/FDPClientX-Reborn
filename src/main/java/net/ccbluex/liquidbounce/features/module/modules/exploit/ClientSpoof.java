package net.ccbluex.liquidbounce.features.module.modules.exploit;

import io.netty.buffer.Unpooled;
import net.ccbluex.liquidbounce.api.minecraft.network.IPacket;
import net.ccbluex.liquidbounce.features.module.Module;
import net.ccbluex.liquidbounce.features.module.ModuleCategory;
import net.ccbluex.liquidbounce.features.module.ModuleInfo;
import net.ccbluex.liquidbounce.value.ListValue;
import net.minecraft.network.Packet;
import net.minecraft.network.PacketBuffer;
import net.minecraft.network.play.client.CPacketCustomPayload;

@ModuleInfo(name = "ClientSpoof", description = "Spoofs your client name.", category = ModuleCategory.EXPLOIT)
public class ClientSpoof extends Module {

    public final ListValue modeValue = new ListValue("Mode", new String[]{"CheatBreaker"}, "CheatBreaker");

    @Override
    public void onEnable() {
        switch (modeValue.get().toLowerCase()) {
            case "cheatbreaker":
            mc2.getConnection().sendPacket(new CPacketCustomPayload("CB|INIT",
                    new PacketBuffer(Unpooled.buffer()).writeString("CB|INIT")));
                mc2.getConnection().sendPacket(new CPacketCustomPayload("CB-Binary",
                            new PacketBuffer(Unpooled.buffer()).writeString("CB-Binary")));
            break;
        }
        super.onEnable();
    }
}
